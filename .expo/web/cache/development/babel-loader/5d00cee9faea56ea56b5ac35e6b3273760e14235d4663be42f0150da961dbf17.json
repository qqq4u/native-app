{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components/native';\nimport View from \"react-native-web/dist/exports/View\";\nimport { Loading } from \"../components/Loader\";\nimport { axiosInstance } from \"../API\";\nimport { COURSES, DOMEN, EDUCATION_TYPES } from \"../consts\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar PostImage = styled.Image`\n  border-radius: 10px;\n  width: 100%;\n  height: 350px;\n  margin-bottom: 20px;\n`;\nvar PostDetails = styled.View`\n  flex-direction: column;\n`;\nvar PostText = styled.Text`\n  flex-direction: column;\n  font-size: 18px;\n  line-height: 24px;\n`;\nvar FullPostScreen = function FullPostScreen(_ref) {\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    isLoading = _useState2[0],\n    setIsLoading = _useState2[1];\n  var _useState3 = useState(),\n    _useState4 = _slicedToArray(_useState3, 2),\n    data = _useState4[0],\n    setData = _useState4[1];\n  var _route$params = route.params,\n    id = _route$params.id,\n    name = _route$params.name;\n  var fetchGroup = function fetchGroup() {\n    navigation.setOptions({\n      name: name\n    });\n    axiosInstance.get(\"/parkings/\" + id).then(function (_ref2) {\n      var data = _ref2.data;\n      setData(data);\n    }).catch(function (err) {\n      console.log(err);\n      alert(\"Ошибка, не удалось получить парковку\");\n    }).finally(function () {\n      setIsLoading(false);\n    });\n  };\n  useEffect(fetchGroup, []);\n  if (isLoading) {\n    return _jsx(View, {\n      style: {\n        flex: 1,\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      children: _jsx(Loading, {})\n    });\n  }\n  var facultyImage = `http://${DOMEN}/api/parkings/${data.id}/image/`;\n  return _jsxs(View, {\n    style: {\n      padding: 20\n    },\n    children: [_jsx(PostImage, {\n      source: {\n        uri: facultyImage\n      }\n    }), _jsxs(PostDetails, {\n      children: [_jsxs(PostText, {\n        children: [\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435: \", data.name]\n      }), _jsxs(PostText, {\n        children: [\"\\u0424\\u0430\\u043A\\u0443\\u043B\\u044C\\u0442\\u0435\\u0442: \", data.faculty.name]\n      }), _jsxs(PostText, {\n        children: [\"\\u041A\\u0443\\u0440\\u0441: \", COURSES.find(function (course) {\n          return course.id === data.course;\n        }).name]\n      }), _jsxs(PostText, {\n        children: [\"\\u0412\\u0430\\u0440\\u0438\\u0430\\u043D\\u0442 \\u043E\\u0431\\u0443\\u0447\\u0435\\u043D\\u0438\\u044F: \", EDUCATION_TYPES.find(function (course) {\n          return course.id === data.education_type;\n        }).name]\n      }), _jsxs(PostText, {\n        children: [\"\\u0413\\u043E\\u0434 \\u043D\\u0430\\u0447\\u0430\\u043B\\u0430 \\u043E\\u0431\\u0443\\u0447\\u0435\\u043D\\u0438\\u044F: \", data.year_begin]\n      }), _jsxs(PostText, {\n        children: [\"\\u0413\\u043E\\u0434 \\u043A\\u043E\\u043D\\u0446\\u0430 \\u043E\\u0431\\u0443\\u0447\\u0435\\u043D\\u0438\\u044F: \", data.year_end]\n      })]\n    })]\n  });\n};\nexport default FullPostScreen;","map":{"version":3,"names":["React","useEffect","useState","styled","View","Loading","axiosInstance","COURSES","DOMEN","EDUCATION_TYPES","jsx","_jsx","jsxs","_jsxs","PostImage","Image","PostDetails","PostText","Text","FullPostScreen","_ref","route","navigation","_useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","_useState4","data","setData","_route$params","params","id","name","fetchGroup","setOptions","get","then","_ref2","catch","err","console","log","alert","finally","style","flex","justifyContent","alignItems","children","facultyImage","padding","source","uri","faculty","find","course","education_type","year_begin","year_end"],"sources":["/Users/qqq/Documents/University/3course/5term/РИП/733/screens/FullPostScreen.jsx"],"sourcesContent":["import React, {useEffect, useState} from 'react'\nimport styled from 'styled-components/native'\nimport {View} from \"react-native\";\nimport {Loading} from \"../components/Loader\";\nimport {axiosInstance} from \"../API\";\nimport {COURSES, DOMEN, EDUCATION_TYPES} from \"../consts\";\n\nconst PostImage = styled.Image`\n  border-radius: 10px;\n  width: 100%;\n  height: 350px;\n  margin-bottom: 20px;\n`\n\nconst PostDetails = styled.View`\n  flex-direction: column;\n`\n\nconst PostText = styled.Text`\n  flex-direction: column;\n  font-size: 18px;\n  line-height: 24px;\n`\n\n\n\nconst FullPostScreen = ({ route, navigation }) => {\n\n    const [isLoading, setIsLoading] = useState(true)\n    const [data, setData] = useState()\n\n    const { id, name } = route.params\n\n    const fetchGroup = () => {\n        navigation.setOptions({\n            name,\n        })\n\n        axiosInstance\n            .get(\"/parkings/\" + id)\n            .then(({data}) => {\n                setData(data)\n            })\n            .catch((err) => {\n                console.log(err)\n                alert(\"Ошибка, не удалось получить парковку\")\n            })\n            .finally(() => {\n                setIsLoading(false)\n            })\n    }\n\n    useEffect(fetchGroup, [])\n\n    if (isLoading) {\n        return (\n            <View style={{\n                flex: 1,\n                justifyContent: 'center',\n                alignItems: 'center'\n            }}>\n                <Loading />\n            </View>\n        )\n    }\n\n    const facultyImage = `http://${DOMEN}/api/parkings/${data.id}/image/`\n\n    return (\n        <View style={{ padding: 20 }}>\n            <PostImage source={{uri: facultyImage}} />\n            <PostDetails>\n                <PostText>\n                    Название: {data.name}\n                </PostText>\n\n                <PostText>\n                    Факультет: {data.faculty.name}\n                </PostText>\n\n                <PostText>\n                    Курс: {COURSES.find(course => course.id === data.course).name}\n                </PostText>\n\n                <PostText>\n                    Вариант обучения: {EDUCATION_TYPES.find(course => course.id === data.education_type).name}\n                </PostText>\n\n                <PostText>\n                    Год начала обучения: {data.year_begin}\n                </PostText>\n\n                <PostText>\n                    Год конца обучения: {data.year_end}\n                </PostText>\n\n            </PostDetails>\n\n        </View>\n    )\n}\n\nexport default FullPostScreen;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}